jQuery(document).ready(function(t){function e(){"undefined"!=T&&"horizontal"==T?t("#grid_content").bind("mousewheel",function(t,e){this.scrollLeft-=e*Z,t.preventDefault()}):t("#grid_content").unbind("mousewheel")}function o(){1==V&&console.log("20. set_browser_orientation class"),t("#content_printout").html(T+"<br>"+t(window).height()+" x "+t(window).width()),t("body").removeClass("body_"+_browser_orientation_contra),t("body").addClass("body_"+T),t("body").attr("body_orientation",T)}function i(){1==V&&console.log("10. detect_browser_orientation"),t(window).height()<t(window).width()&&t(window).width()>P&&t(window).height()>L&&!t("html").hasClass("no-csscolumns")?(T="horizontal",_browser_orientation_contra="vertical",S="masonryHorizontal",_isotope_default_filter_items=":not(.hide_horizontal)",I="height",_element_ch_short="h",_element_ch_contra="width",_element_ch_contra_short="w"):(T="vertical",_browser_orientation_contra="horizontal",S="masonry",_isotope_default_filter_items=":not(.hide_vertical)",I="width",_element_ch_short="w",_element_ch_contra="height",_element_ch_contra_short="h")}function n(){if(1==V&&console.log("30. get_grid_element_content_size"),"vertical"==T){var e=parseInt(t(R).css("paddingLeft"))+parseInt(t(R).css("paddingRight"));q=t(window).width()-e}else q=t("body").innerHeight()-Y-(t(header).outerHeight()+t("#footer").outerHeight())}function a(){1==V&&console.log("45. reset_sizes"),t(N).height(""),t(N).width(""),t(R).height(""),t(R).width(""),j=""}function r(){if(E.length>0)for(var e=0;e<E.length;e++)if(t("body").hasClass(E[e]))return!0;return!1}function s(){1==V&&console.log("40. set_size_grid_parent_element"),a(),"vertical"==T||1==r()?(t(N).height(""),j=t("body").height(),t(O).height("auto")):(t(N).height(q+Y),t(O).height(q*A/100),j=t("body").width()),t("#header-push").height(t(header).outerHeight()),t("#footer-push").height(t("#footer").outerHeight())}function c(e){1==V&&console.log("50. get_sizes_array"),t.getJSON(_resources+"grid_structure_numbers.json",function(o){M=q,1==V&&console.log("grid_element.width() "+t(R).width()),1==V&&console.log("body:"+j);var i,n=!1;t.each(o[e],function(t){t>M&&0==n&&(_current_size_json=i,n=!0),i=t}),B=o[e][_current_size_json],W=B,H=Math.floor(M/B),_unit_size_contra=H*F;1==V&&console.log("JSON elements num:"+B),1==V&&console.log("_unit_size:"+H)}).done(function(){l(function(){u()})})}function l(e){1==V&&console.log("55. process_all_elements"),t(".element").each(function(){var e=t(this).attr("data-proportional-"+I),o=t(this).attr("data-proportional-"+_element_ch_contra);if(e>=W||"max"==e?(_element_ch_size=Math.floor(M/H)*H,_variable_resize_contra=e/W):_element_ch_size=H*e+J*e*2,"max"==o)_element_ch_contra_size=Math.floor(Math.floor(j/_unit_size_contra)*_unit_size_contra-$*Math.floor(j/_unit_size_contra));else{if(e>=W){var i=Math.floor(o/_variable_resize_contra);o=2>i?2:i,t(this).removeClass(function(t,e){return(e.match(/\bw_\S+/g)||[]).join(" ")}),t(this).addClass("w_"+o)}else t(this).removeClass(function(t,e){return(e.match(/\bw_\S+/g)||[]).join(" ")}),t(this).addClass("w_"+o);_element_ch_contra_size=Math.floor(_unit_size_contra*o+J*o*2)}t(this).css(I,_element_ch_size),t(this).css(_element_ch_contra,_element_ch_contra_size),t(this).find(".inner_element").css(I,_element_ch_size-$),t(this).find(".inner_element").css(_element_ch_contra,_element_ch_contra_size-$),t(this).find(".inner_element").css("margin-right",$),t(this).find(".inner_element").css("margin-bottom",$),"vertical"==T&&t(this).find(".inner_element").css("margin",$/2)}),e()}function _(){setTimeout(function(){t("#subnavigation").animate({opacity:1},400,"swing",function(){})},100)}function h(){t("#subnavigation")&&t("#subnavigation").textfill({debug:!1,innerTag:"h1",widthOnly:!0,minFontPixels:18,maxFontPixels:38,success:function(){_()},fail:function(){_()}})}function d(){setTimeout(function(){t("#footer").animate({opacity:1},400,"swing",function(){})},100)}function u(){1==V&&console.log("60. compose_isotope"),t(".element").length>0?imagesLoaded("#grid_content",function(){D.isotope({itemSelector:".element",filter:_isotope_default_filter_items,layoutMode:S,animationEngine:"jQuery",animationOptions:{duration:Q,easing:"linear",queue:!0},sortBy:"original-order",columnWidth:200,resizesContainer:!0,onLayout:function(){b(function(){})}}),"horizontal"==T?D.isotope({masonryHorizontal:{rowHeight:H}}):D.isotope({masonry:{columnWidth:H}}),w(function(){z()}),e(),h(),d(),y(),t(".inner_element").each(function(e,o){setTimeout(function(){t(o).parent().animate({opacity:1},500,"swing",function(){console.log("Animiert")})},70*e)})}):(t("body").css("overflow-x","hidden"),t(".site-content").each(function(e,o){function i(){function e(){t.each(o,function(e,o){var n=t(o);n.css("margin-top",i),n.css("margin-bottom",i-n.height()%i)})}var o=s.find(".columnbreak"),i=s.height();e()}function n(){var e;return e=void 0==t(document.body).css("column-break-before")&&void 0==t(document.body).css("break-before")?!1:!0}function a(){t(".columnbreak").attr("style","")}oe=t("#open_up").length>0?"yes_accordion":"no_accordion",t("#content img").each(function(){t(this).css("max-height",t("#content").height())});var s=t("#page_grid");a(),n()||"horizontal"!=T||i(),("undefined"!=T&&"horizontal"==T||1==U)&&(t("body").not(".page-template-vertical_subnavigation-php")||t("body").not(".page-template-vertical-php"))?(g(),p()):(t(".accordion_open").remove(),t(".accordion_close").remove(),t(".slim").attr("style"," ")),1==U&&"vertical"==T&&(t(".accordion_open").remove(),t(".accordion_close").remove(),t(".slim").attr("style"," ")),setTimeout(function(){t(o).animate({opacity:1},400,"swing",function(){t("article").each(function(e,o){setTimeout(function(){t(o).animate({opacity:1},500,"swing",function(){})},30*e)}),"horizontal"==T?D.css("overflow-x","scroll"):D.css("overflow-x","hidden"),t("body").hasClass("body_horizontal")&&1!=r()?setTimeout(function(){t("#page_grid").bind("mousewheel",function(t,e){this.scrollLeft-=e*Z,t.preventDefault()})},250):t("#page_grid").unbind("mousewheel")})},70*e),h(),d()}))}function m(e){for(var o=e.parent(),i=o.nextAll(),n=parseInt(o.attr("data-width-real"))-parseInt(o.attr("data-column-width")),a=0,r=i.length;r>a;a++)_article_after=t(i[a]),_article_after.animate({left:"+="+n},Q,function(){o.css("overflow","visible")})}function f(e){var o=e.parent(),i=o.nextAll(),n=parseInt(o.attr("data-width-real"))-parseInt(o.attr("data-column-width"));o.css("overflow","hidden");for(var a=0,r=i.length;r>a;a++)_article_after=t(i[a]),_article_after.animate({left:"-="+n},Q,function(){})}function g(){ie.length>1&&ie.each(function(){t(this).children().length<1&&t(this).remove()})}function p(){var e=0,o=ie.length-1;ie.length>1&&ie.each(function(){t(this).attr("data-inline-style")&&t(this).attr("style",t(this).attr("data-inline-style")),t(this).attr("data-column-width")&&("vertical"==T?t(this).width(q):t(this).width(t(this).attr("data-column-width"))),t(this).find(".last_article_element").length<1&&t(this).append('<div class="last_article_element"></div>'),1==X&&t(this).find(".last_article_element").attr("style","border-color: 1px solid red;");var i=t(this).find(".last_article_element"),n=i.position().left,a=i.width(),r=ee+n+a;1==X&&(console.log("last Pos___"+e+"___"),console.log("P___"+n+"___"),console.log("W___"+a+"___"),console.log("NewPosition___"+r+"___"),console.log("________"));var s=n+a;t(this).attr("data-width-real",s),s>t(this).attr("data-column-width")&&("yes_accordion"==t(this).attr("data-accordion")||"yes_accordion"==oe&&""==t(this).attr("data-accordion"))&&(t(this).find(".accordion_close").length>0&&t(this).find(".accordion_close").remove(),t(this).find(".accordion_close").length<1&&t(this).find(".accordion_open").length<1&&(t(this).prepend('<div class="accordion_open"></div>'),t(this).attr("data-accordion","yes_accordion"),t(this).css("overflow","hidden"))),--o||v()})}function v(){var e,o=0,i=t("#content article"),n=0;i.each(function(){if(e&&n>0){if("yes_accordion"!=e.attr("data-accordion"))var i=parseInt(e.attr("data-width-real"))+ee;else var i=parseInt(e.attr("data-column-width"))+ee;var a=i+o;t(this).css("left",a+"px"),o+=i}n++,e=t(this)})}function y(){for(var e=t(".image_overlay").find("img"),o=0;o<e.length;o++){_img=t(e[o]);var i=t('<div class="console_values" style="position: absolute;"></div>'),n=_img.width()/2,a=_img.height()/2;i.append("hWide: "+n+"<br>"),i.append("hTall: "+a+"<br>");var r=_img.parent().width()/_img.parent().height(),s=_img.width()/_img.height(),c=_img.parent().height()/_img.height(),l=_img.parent().width()/_img.width();n="-"+n*c+"px",a="-"+a*l+"px",i.append("vertical_ratio: "+c+"<br>"),i.append("horizontal_ratio: "+l+"<br>"),i.append("hWide: "+n+"<br>"),i.append("hTall: "+a+"<br>"),r==s?_img.removeClass().addClass("image_overlay_fit_horizontally").addClass("exact_fit").css({margin:"0px"}):s>r?_img.parent().hasClass("contain")?_img.removeClass().addClass("image_overlay_fit_horizontally").css({margin:"0px","margin-top":a}):_img.removeClass().addClass("image_overlay_stretch_vertically_fix").css({margin:"0px","margin-left":n}):_img.parent().hasClass("contain")?_img.removeClass().addClass("image_overlay_fit_vertically").css({margin:"0px","margin-left":n}):_img.removeClass().addClass("image_overlay_stretch_horizontally_fix").css({margin:"0px","margin-top":a})}}function b(t){1==V&&console.log("70. functions_after_isotope"),t(),setTimeout(function(){},Q)}function w(e){1==V&&console.log("80. destroy custom scroller"),t(".inner_content._scroll_it").mCustomScrollbar("destroy"),t("#subnavigation").mCustomScrollbar("destroy"),e()}function z(){1==V&&console.log("85. activate custom scroller"),t(".inner_content._scroll_it").mCustomScrollbar({mouseWheelPixels:2*Z,scrollInertia:300,contentTouchScroll:!0}),t("#subnavigation").mCustomScrollbar({mouseWheelPixels:2*te,scrollInertia:300})}function C(){var t=document.createElement("div");t.className="scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function x(){t("#footer").animate({opacity:0},10),t("#subnavigation").animate({opacity:0},10),t("article").animate({opacity:0},10);var e=50;t("body").queue("custom",function(){i();var o=this;_i_time=setTimeout(function(){t(o).dequeue("custom")},e)}),t("body").queue("custom",function(){o();var i=this;_i_time=setTimeout(function(){t(i).dequeue("custom")},e)}),t("body").queue("custom",function(){n();var o=this;_i_time=setTimeout(function(){t(o).dequeue("custom")},e)}),t("body").queue("custom",function(){s();var o=this;_i_time=setTimeout(function(){t(o).dequeue("custom")},e)}),t("body").queue("custom",function(){c(T);var o=this;_i_time=setTimeout(function(){t(o).dequeue("custom")},e)}),t("body").dequeue("custom")}var T,q,I,S,W,H,M,j,k,P=650,L=450,N="#grid_content",O=".site-content",A=95,D=t("#page_grid"),E=["page-template-vertical-php"],F=1,J=0,Q=300,B=1,R="#page_grid",G=t("body").width(),K=t("body").height(),U=!1,V=!1,X=!1,Y=C(),Z=60,$=12,te=60,ee=50,oe="";t(window).resize(function(){clearTimeout(k),k=setTimeout(function(){i(),t("body").attr("body_orientation")!=T&&(U=!0),"undefined"!=T&&"vertical"==T?t("body").width()!=G&&(U=!0,G=t("body").width(),K=t("body").height()):(t("body").height()!=K||1==t("html").hasClass("no-touch"))&&(U=!0,G=t("body").width(),K=t("body").height()),U&&x()},300)}),t("#filters a").click(function(){var e=t(this).attr("data-filter");return t("#filters a").removeClass("active-filter"),t(this).addClass("active-filter"),D.isotope({filter:e}),!1});var ie=t(".body_horizontal").find("#content").find("article");t("#content").on("click",".accordion_open",function(){return m(t(this)),t(this).removeClass("accordion_open"),t(this).addClass("accordion_close"),!1}),t("#content").on("click",".accordion_close",function(){return f(t(this)),t(this).removeClass("accordion_close"),t(this).addClass("accordion_open"),!1}),x()});